{"version":3,"sources":["Server/context.js","Server/firebase.js","Server/index.js","Sesion/Store.js","Sesion/actions/sesionAction.js","Components/Layout/Bar/Menuderecha.js","Components/Layout/Bar/MenuIzq.js","Components/Layout/Bar/BarSession.js","Components/Layout/AppNavBar.js","Theme/theme.js","Sesion/actions/snackbarAction.js","Components/Seguridad/RegistrarUsuario.js","Components/Seguridad/Login.js","Components/Seguridad/RutaAutenticada.js","Components/Seguridad/PerfilUsuario.js","Sesion/actions/Keywords.js","Components/vistas/Nuevoinmueble.js","Components/vistas/ListaInmuebles.js","Components/vistas/EditarInmueble.js","App.js","serviceWorker.js","Sesion/initialState.js","Sesion/reducers/sesionReducer.js","Sesion/reducers/openSnackbarReducer.js","index.js","Sesion/reducers/index.js","logo.svg"],"names":["FirebaseContext","React","createContext","consumerFirebase","Component","props","Consumer","firebase","config","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Firebase","guardarDocumento","nombreDocumento","documento","storage","ref","child","put","devolverDocumento","documentoUrl","getDownloadURL","guardarFotosInmueble","subirFotos","app","initializeApp","this","db","firestore","auth","constructor","prototype","Promise","all","map","file","alias","then","snapshot","resolve","onAuthStateChanged","StateContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","iniciarSesion","dispatch","email","password","eject","signInWithEmailAndPassword","collection","doc","user","uid","get","usuarioDB","data","type","sesion","autenticado","status","catch","error","console","log","mensaje","crearUsuario","usuario","createUserWithEmailAndPassword","set","id","nombre","apellido","merge","salirSesion","signOut","salir","nuevoUsuario","foto","telefono","MenuDerecha","classes","textoUsuario","fotoUsuario","className","list","List","ListItem","button","component","Link","to","Avatar","src","ListItemText","primary","listItemText","onClick","MenuIzquierda","Divider","BarSession","state","right","left","salirSesionApp","context","success","history","push","toggleDrawer","side","open","setState","Drawer","onClose","anchor","role","onKeyDown","Toolbar","IconButton","color","Typography","variant","style","textDecoration","grow","sectionDesktop","Button","sectionMobile","nextProps","prevState","nuevosObjetos","contextType","compose","withRouter","withStyles","theme","display","breakpoints","up","flexGrow","avatarSize","width","height","fontSize","fontWeight","paddingLeft","search","position","borderRadius","shape","backgroundColor","marginRight","spacing","marginLeft","inputRoot","inputInput","padding","transition","transitions","create","searchIcon","pointerEvents","alignItems","justifyContent","AppNavBar","currentUser","AppBar","createMuiTheme","typography","useNextVariants","palette","main","secondary","common","white","background","default","openMensajePantalla","openMensaje","paper","marginTop","flexDirection","avatar","margin","form","submit","marginBottom","RegistrarUsuario","onChange","e","Object","assign","target","name","a","preventDefault","callback","message","Container","maxWidth","Grid","container","item","md","xs","TextField","fullWidth","label","justify","size","Login","login","RutaAutenticada","autenticadoFirebase","rest","render","breadcrumbs","useState","estado","cambiarEstado","cambiarDato","prev","useEffect","validarEstadoFormulario","setOpen","Paper","Breadcrumbs","aria-label","dialogTitle","filesLimit","dropzoneText","previewText","Icon","AddPhotoAlternateIcon","acceptedFiles","cancelButtonText","submitButtonText","maxFileSize","onSave","fotos","claveUnicaFoto","uuidv4","nombreFoto","extensionFoto","split","pop","replace","toLocaleLowerCase","metadata","urlFoto","userDB","showPreviews","showPreviewsInDropzone","showFileNamesInPreview","crearKeyword","text","arregloKeywords","match","forEach","palabra","palabraResumida","letra","toLowerCase","letraResumida","paddingTop","homeIcon","link","dropzoneStyle","inmueble","pais","ciudad","direccion","tipoInmueble","descripcionInmueble","archivos","entraDatoEnEstado","inmueble_","guardarInmueble","keys","key","valorDinamico","Math","floor","Date","getTime","extension","textoBusqueda","keywords","arregloUrls","add","href","multiline","descripcion","handleChange","bind","cardGrid","paddingBottom","minHeight","gridTextfield","card","cardMedia","cardContent","inmuebles","cambiarBusquedaTexto","self","typingTimeout","clearTimeout","typing","setTimeout","goTime","objectQuery","orderBy","where","trim","arrayInmueble","docs","eliminarInmueble","delete","eliminarInmuebleDeListaEstado","inmuebleListaNueva","filter","editarInmueble","sm","InputLabelProps","shrink","placeholder","inputProps","startAdorment","InputAdornment","Card","elevation","CardMedia","image","logo","title","CardContent","gutterBottom","CardActions","App","autenticacionIniciada","setupFirebaseInicial","openSnackbar","estaIniciado","val","Fragment","Snackbar","anchorOrigin","vertical","horizontal","autoHideDuration","ContentProps","exact","path","ListaInmuebles","PerfilUsuario","NuevoInmueble","EditarInmueble","Boolean","window","location","hostname","sesionReducer","action","openSnackbarReducer","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.1454d497.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst FirebaseContext = React.createContext();\r\n\r\nexport default FirebaseContext;\r\n\r\nexport const consumerFirebase = Component => props => (\r\n    <FirebaseContext.Consumer>\r\n        {firebase => <Component {...props} firebase={firebase} />}\r\n    </FirebaseContext.Consumer>\r\n);","import app from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\nimport 'firebase/storage';\r\n\r\nconst config = {\r\n    apiKey: \"AIzaSyB9BHEnW5w1DbBr5_bEqzefwA76sw3DYY8\",\r\n    authDomain: \"home-48c6b.firebaseapp.com\",\r\n    databaseURL: \"https://home-48c6b.firebaseio.com\",\r\n    projectId: \"home-48c6b\",\r\n    storageBucket: \"home-48c6b.appspot.com\",\r\n    messagingSenderId: \"1015388865182\",\r\n    appId: \"1:1015388865182:web:6f9934b627b42bdc3a318f\",\r\n    measurementId: \"G-M5042SGZSX\"\r\n};\r\n\r\nclass Firebase {\r\n\r\n    constructor() {\r\n\r\n        app.initializeApp(config);\r\n        this.db = app.firestore();\r\n        this.auth = app.auth();\r\n        this.storage = app.storage();\r\n\r\n        this.storage.ref().constructor.prototype.guardarFotosInmueble = function (subirFotos) {\r\n            var ref = this;\r\n            return Promise.all(subirFotos.map(function (file) {\r\n                return ref.child(file.alias).put(file).then(snapshot => {\r\n                    return ref.child(file.alias).getDownloadURL();\r\n                })\r\n            }))\r\n        }\r\n    }\r\n\r\n    estaIniciado() {\r\n        return new Promise(resolve => {\r\n            this.auth.onAuthStateChanged(resolve)\r\n        })\r\n    }\r\n\r\n    guardarDocumento = (nombreDocumento, documento) => this.storage.ref().child(nombreDocumento).put(documento);\r\n\r\n    devolverDocumento = (documentoUrl) => this.storage.ref().child(documentoUrl).getDownloadURL();\r\n\r\n    guardarFotosInmueble = (subirFotos) => this.storage.ref().guardarFotosInmueble(subirFotos);\r\n\r\n}\r\n\r\n\r\nexport default Firebase;","import FirebaseContext,{consumerFirebase} from './context';\r\nimport Firebase from './firebase';\r\n\r\nexport default Firebase;\r\nexport { FirebaseContext, consumerFirebase };","import React, { createContext, useContext, useReducer } from 'react';\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({reducer, initialState, children}) => (\r\n    <StateContext.Provider value = {useReducer(reducer, initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n)\r\n\r\nexport const useStateValue = () => useContext(StateContext);","//Aquí es donde se declara las funciones y se define los parametros ddel sesionReducer\r\n\r\nexport const iniciarSesion = (dispatch, firebase, email, password) => {\r\n    return new Promise((resolve, eject) => {\r\n        firebase.auth\r\n            .signInWithEmailAndPassword(email, password)\r\n            .then(auth => {\r\n                firebase.db\r\n                    .collection(\"Users\")\r\n                    .doc(auth.user.uid)\r\n                    .get()\r\n                    .then(doc => {\r\n                        const usuarioDB = doc.data();\r\n                        dispatch({\r\n                            type: \"INICIAR_SESION\",\r\n                            sesion: usuarioDB,\r\n                            autenticado: true\r\n                        });\r\n                        resolve({ status: true });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error\", error);\r\n                resolve({ status: false, mensaje: error });\r\n            });\r\n    });\r\n};\r\n\r\nexport const crearUsuario = (dispatch, firebase, usuario) => {\r\n    return new Promise((resolve, eject) => {\r\n        firebase.auth\r\n            .createUserWithEmailAndPassword(usuario.email, usuario.password)\r\n            .then(auth => {\r\n                firebase.db\r\n                    .collection(\"Users\")\r\n                    .doc(auth.user.uid)\r\n                    .set(\r\n                        {\r\n                            id: auth.user.uid,\r\n                            email: usuario.email,\r\n                            nombre: usuario.nombre,\r\n                            apellido: usuario.apellido\r\n                        },\r\n                        { merge: true }\r\n                    )\r\n                    .then(doc => {\r\n                        usuario.id = auth.user.uid;\r\n                        dispatch({\r\n                            type: \"INICIAR_SESION\",\r\n                            sesion: usuario,\r\n                            autenticado: true\r\n                        });\r\n                        resolve({ status: true });\r\n                    });\r\n            })\r\n            .catch(error => {\r\n                console.log(\"error\", error);\r\n                resolve({ status: false, mensaje: error });\r\n            });\r\n    });\r\n};\r\n\r\nexport const salirSesion = (dispatch, firebase) => {\r\n    \r\n    return new Promise((resolve, eject) => {       \r\n        firebase.auth.signOut().then(salir => {            \r\n            dispatch({\r\n                type: \"SALIR_SESION\",\r\n                nuevoUsuario: {\r\n                    nombre: \"\",\r\n                    apellido: \"\",\r\n                    email: \"\",\r\n                    foto: \"\",\r\n                    id: \"\",\r\n                    telefono: \"\"\r\n                },\r\n                autenticado: false\r\n            });           \r\n            resolve();\r\n        });\r\n    });\r\n};\r\n\r\n","import React from \"react\";\r\nimport { List, Link, ListItemText, ListItem, Avatar } from \"@material-ui/core\";\r\n\r\nexport const MenuDerecha = ({\r\n  classes,\r\n  usuario,\r\n  textoUsuario,\r\n  fotoUsuario,\r\n  salirSesion\r\n}) => (\r\n    <div className={classes.list}>\r\n      <List>\r\n        <ListItem button component={Link} to=\"/auth/registrarUsuario\">\r\n          <Avatar\r\n            src={fotoUsuario}\r\n          />\r\n          <ListItemText\r\n            classes={{ primary: classes.listItemText }}\r\n            primary={textoUsuario}\r\n          />\r\n        </ListItem>\r\n        <ListItem button onClick={salirSesion}>\r\n          <ListItemText\r\n            classes={{ primary: classes.listItemText }}\r\n            primary=\"Salir\"\r\n          />\r\n        </ListItem>\r\n      </List>\r\n    </div>\r\n  );\r\n","import React from 'react';\r\nimport { Avatar, Divider, List, ListItem, ListItemText } from \"@material-ui/core\";\r\nimport { StateContext } from '../../../Sesion/Store';\r\nimport {Link} from 'react-router-dom';\r\n\r\n\r\nexport const MenuIzquierda = ({ classes, usuario, textoUsuario, fotoUsuario, salirSesion }) => (\r\n\r\n    <div className={classes.list}>\r\n        <List>\r\n            <ListItem component={Link} button to=\"/auth/uprofile\">\r\n                <Avatar src={fotoUsuario}/>\r\n               \r\n                <ListItemText classes={{ primary: classes.ListItemText }} primary={\"¡Hola \" + textoUsuario + \"!\"} ></ListItemText>\r\n            </ListItem>\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n            <ListItem component={Link} button to=\"/auth/nuevoinmueble\">\r\n                <i className=\"material-icons\">add_box</i>\r\n                <ListItemText classes={{ primary: classes.ListItemText }} primary=\"Nueva siembra\" ></ListItemText>\r\n            </ListItem>\r\n            <ListItem component={Link} button to=\"\">\r\n                <i className=\"material-icons\">business</i>\r\n                <ListItemText classes={{ primary: classes.ListItemText }} primary=\"Siembras\" ></ListItemText>\r\n            </ListItem>\r\n            <ListItem component={Link} button to=\"\">\r\n                <i className=\"material-icons\">mail_outline</i>\r\n                <ListItemText classes={{ primary: classes.ListItemText }} primary=\"Mensajes\" ></ListItemText>\r\n            </ListItem>\r\n        </List>\r\n    </div>\r\n\r\n)","import React, { Component } from 'react';\r\nimport { Toolbar, Typography, Button, IconButton, Drawer, InputBase, Avatar } from '@material-ui/core';\r\nimport { withStyles } from '@material-ui/core/styles';\r\nimport { consumerFirebase } from '../../../Server';\r\nimport { compose } from 'recompose';\r\nimport { StateContext } from '../../../Sesion/Store';\r\nimport { salirSesion } from '../../../Sesion/actions/sesionAction';\r\nimport { MenuDerecha } from './Menuderecha';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport { MenuIzquierda } from './MenuIzq';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\n\r\nconst styles = theme => ({\r\n  sectionDesktop: {\r\n    display: \"none\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"flex\"\r\n    }\r\n  },\r\n  sectionMobile: {\r\n    display: \"flex\",\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\"\r\n    }\r\n  },\r\n  grow: {\r\n    flexGrow: 1\r\n  },\r\n  avatarSize: {\r\n    width: 40,\r\n    height: 40\r\n  },\r\n  listItemText: {\r\n    fontSize: \"14px\",\r\n    fontWeight: 600,\r\n    paddingLeft: \"15px\",\r\n    color: \"#212121\"\r\n  },\r\n  list: {\r\n    width: 250\r\n  },\r\n  search: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: \"#61afef\",\r\n    '&:hover': {\r\n      backgroundColor: \"#61afef\",\r\n    },\r\n    marginRight: theme.spacing(2),\r\n    marginLeft: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing(3),\r\n      width: 'auto',\r\n    },\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n  },\r\n  inputInput: {\r\n    padding: theme.spacing(1, 1, 1, 0),\r\n    // vertical padding + font size from searchIcon\r\n    paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: '20ch',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    padding: theme.spacing(0, 2),\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n\r\n});\r\nclass BarSession extends Component {\r\n\r\n  static contextType = StateContext;\r\n\r\n  state = {\r\n    firebase: null,\r\n    right: false,\r\n    left: false\r\n  }\r\n  salirSesionApp = () => {\r\n    const { firebase } = this.state;\r\n    const [{ sesion }, dispatch] = this.context;\r\n    console.log(firebase)\r\n\r\n    salirSesion(dispatch, firebase).then(success => {\r\n      this.props.history.push(\"/auth/login\");\r\n    });\r\n  };\r\n  toggleDrawer = (side, open) => () => {\r\n    this.setState(\r\n      {\r\n        [side]: open\r\n      }\r\n    )\r\n  }\r\n  static getDerivedStateFromProps(nextProps, prevState) {\r\n    let nuevosObjetos = {};\r\n\r\n    if (nextProps.firebase !== prevState.firebase) {\r\n      nuevosObjetos.firebase = nextProps.firebase;\r\n    }\r\n    return nuevosObjetos;\r\n  }\r\n  render() {\r\n    const { classes } = this.props;\r\n    const [{ sesion }, dispatch] = this.context;\r\n    const { usuario } = sesion;\r\n    let textoUsuario = usuario.nombre + \" \" + usuario.apellido;\r\n    return (\r\n      <div>\r\n\r\n        <Drawer //Menu derecha, version movil\r\n          open={this.state.right}\r\n          onClose={this.toggleDrawer(\"right\", false)}\r\n          anchor=\"right\"\r\n        >\r\n          <div\r\n            role=\"button\"\r\n            onClick={this.toggleDrawer(\"right\", false)}\r\n            onKeyDown={this.toggleDrawer(\"right\", false)}\r\n\r\n          >\r\n            <MenuDerecha classes={classes}\r\n              usuario={usuario}\r\n              textoUsuario={textoUsuario}\r\n              fotoUsuario={usuario.foto}\r\n              salirSesion={this.salirSesionApp}\r\n            />\r\n          </div>\r\n        </Drawer>\r\n\r\n\r\n        <Drawer //menu izquierda, version PC\r\n          open={this.state.left}\r\n          onClose={this.toggleDrawer(\"left\", false)}\r\n          anchor=\"left\"\r\n        >\r\n          <div\r\n            role=\"button\"\r\n            onClick={this.toggleDrawer(\"left\", false)}\r\n            onKeyDown={this.toggleDrawer(\"left\", false)}\r\n          >\r\n            <MenuIzquierda\r\n              classes={classes}\r\n              textoUsuario={textoUsuario}\r\n              fotoUsuario={usuario.foto}\r\n\r\n            //   permisoParaObtenerNotification = {this.recibirNotificaciones}\r\n            />\r\n          </div>\r\n        </Drawer>\r\n\r\n\r\n\r\n\r\n        <Toolbar>\r\n          <IconButton color=\"inherit\"\r\n            onClick={this.toggleDrawer(\"left\", true)} >\r\n            <i className=\"material-icons\">menu</i>\r\n          </IconButton>\r\n\r\n          <Typography variant=\"h6\" component={Link} to=\"/\" style={{textDecoration: 'none'}} >Agrindali</Typography>\r\n\r\n\r\n\r\n\r\n        <div className={classes.grow}></div>\r\n        <div className={classes.sectionDesktop}>\r\n          <IconButton color=\"inherit\" component={Link} to=\"\">\r\n            <i className=\"material-icons\">mail_outline</i>\r\n          </IconButton>\r\n          <Button color=\"inherit\" onClick={this.salirSesionApp}>Salir</Button>\r\n          <Button color=\"inherit\" >{textoUsuario}</Button>\r\n          <Avatar src={usuario.foto} />\r\n\r\n\r\n\r\n        </div>\r\n\r\n\r\n        <div className={classes.sectionMobile}>\r\n          <IconButton color=\"inherit\"\r\n            onClick={this.toggleDrawer(\"right\", true)} >\r\n            <i className=\"material-icons\">more_vert</i>\r\n          </IconButton>\r\n        </div>\r\n        </Toolbar>\r\n      </div >\r\n    );\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  withRouter,\r\n  consumerFirebase,\r\n  withStyles(styles)\r\n)(BarSession);","import React, { Component } from 'react';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport BarSession from './Bar/BarSession';\r\nimport { withStyles } from '@material-ui/styles';\r\nimport { compose } from 'recompose';\r\nimport { consumerFirebase } from '../../Server';\r\nimport { StateContext } from '../../Sesion/Store';\r\n\r\nconst styles = theme => ({\r\n    sectionDesktop: {\r\n        display: \"none\",\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            display: \"flex\"\r\n        }\r\n    },\r\n    sectionMobile: {\r\n        display: \"flex\",\r\n        [theme.breakpoints.up(\"md\")]: {\r\n            display: \"none\"\r\n        }\r\n    },\r\n\r\n\r\n});\r\n\r\nclass AppNavBar extends Component {\r\n\r\n    static contextType = StateContext;\r\n\r\n    state = {\r\n        firebase: null\r\n    };\r\n\r\n    componentDidMount() {\r\n        const { firebase } = this.state; //local state\r\n        const [{ sesion }, dispatch] = this.context; //global state\r\n\r\n        if (firebase.auth.currentUser !== null && !sesion) {\r\n            firebase.db\r\n                .collection(\"Users\")\r\n                .doc(firebase.auth.currentUser.uid)\r\n                .get()\r\n                .then(doc => {\r\n                    const usuarioDB = doc.data();\r\n                    dispatch({\r\n                        type: \"INICIAR_SESION\",\r\n                        sesion: usuarioDB,\r\n                        autenticado: true\r\n                    });\r\n                });\r\n        }\r\n    }\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n        let nuevosObjetos = {};\r\n        if (nextProps.firebase !== prevState.firebase) {\r\n            nuevosObjetos.firebase = nextProps.firebase;\r\n        }\r\n        return nuevosObjetos;\r\n    }\r\n\r\n    render() {\r\n        const [{ sesion }, dispatch] = this.context;\r\n\r\n        return sesion ? (sesion.autenticado ? (\r\n            <div>\r\n                <AppBar position=\"static\">\r\n\r\n                    <BarSession />\r\n                </AppBar>\r\n            </div>\r\n        )\r\n            : null\r\n        )\r\n            : null;\r\n    }\r\n}\r\n\r\n\r\nexport default compose(withStyles(styles), consumerFirebase)(AppNavBar);","import {createMuiTheme} from '@material-ui/core/styles';\r\nconst background = \"#f5f5f5\";\r\nconst theme = createMuiTheme({\r\n    typography : {\r\n        useNextVariants: true\r\n    },\r\n    palette : {\r\n        primary : {\r\n            main : '#157FD4'\r\n        },\r\n        secondary : {\r\n            main : '#7fd515'\r\n        },\r\n        common : {\r\n            white : '#ffffff'\r\n        },\r\n        \r\n        background : {\r\n            default : background\r\n        }\r\n    },\r\n    spacing : 10    \r\n});\r\nexport default theme;","export const openMensajePantalla = (dispatch, open) => {\r\n    dispatch ({\r\n        type : \"OPEN_SNACKBAR\",\r\n        openMensaje : open\r\n    })\r\n}","import React, { Component } from 'react';\r\nimport { Container, Typography, Grid, TextField, Avatar, Button } from '@material-ui/core';\r\nimport LockOutLineIcon from '@material-ui/icons/LockOpenOutlined';\r\nimport { compose } from 'recompose';\r\nimport { consumerFirebase } from '../../Server';\r\nimport { crearUsuario } from '../../Sesion/actions/sesionAction';\r\nimport { StateContext } from '../../Sesion/Store';\r\nimport { openMensajePantalla } from '../../Sesion/actions/snackbarAction';\r\n\r\n\r\nconst style = {\r\n    paper: {\r\n        marginTop: 8,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\"\r\n    },\r\n    avatar: {\r\n        margin: 8,\r\n        backgroundColor: \"#e53935\"\r\n    },\r\n    form: {\r\n        width: \"100%\",\r\n        marginTop: 20\r\n    },\r\n    submit: {\r\n        marginTop: 15,\r\n        marginBottom: 20\r\n    }\r\n}\r\n\r\nclass RegistrarUsuario extends Component {\r\n    static contextType = StateContext;\r\n    state = {\r\n        usuario: {\r\n            nombre: '',\r\n            apellido: '',\r\n            email: '',\r\n            password: ''\r\n        }\r\n    }\r\n\r\n    static getDerivedStateFromProps(nextProps, prevState) {\r\n\r\n        if (nextProps.firebase === prevState.firebase) {\r\n            return null;\r\n        }\r\n        return {\r\n            firebase: nextProps.firebase\r\n        }\r\n    }\r\n    onChange = e => {\r\n        let usuario = Object.assign({}, this.state.usuario);\r\n        usuario[e.target.name] = e.target.value;\r\n        this.setState({\r\n            usuario: usuario\r\n        })\r\n    }\r\n\r\n    //Extructura para almacenar y registrar usuarios dentro de Firebase\r\n    RegistrarUsuario = async e => {\r\n        e.preventDefault();\r\n        const [{ sesion }, dispatch] = this.context; //state global\r\n        const { firebase, usuario } = this.state; // state local\r\n        let callback = await crearUsuario(dispatch, firebase, usuario);\r\n        if (callback.status) {\r\n            this.props.history.push(\"/\")\r\n        } else {\r\n            openMensajePantalla(dispatch, {\r\n                open: true,\r\n                mensaje: callback.mensaje.message\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <Container maxWidth=\"xs\">\r\n                <div style={style.paper}>\r\n                    <Avatar style={style.avatar}>\r\n                        <LockOutLineIcon />\r\n                    </Avatar>\r\n                    <Typography component=\"h1\" variant=\"h5\">\r\n                        Registre su cuenta\r\n                    </Typography>\r\n                    <form style={style.form}>\r\n                        <Grid container spacing={1}>\r\n\r\n                            <Grid item md={12} xs={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    name=\"nombre\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.usuario.nombre}\r\n                                    fullWidth label=\"Ingrese su nombre\" />\r\n                            </Grid>\r\n\r\n                            <Grid item md={12} xs={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    name=\"apellido\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.usuario.apellido}\r\n                                    fullWidth label=\"Ingrese sus apellidos\" />\r\n                            </Grid>\r\n\r\n                            <Grid item md={12} xs={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    name=\"email\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.usuario.email}\r\n                                    fullWidth label=\"Ingrese su e-mail\" />\r\n                            </Grid>\r\n\r\n                            <Grid item md={12} xs={12}>\r\n                                <TextField\r\n                                    variant=\"outlined\"\r\n                                    type=\"password\"\r\n                                    name=\"password\"\r\n                                    onChange={this.onChange}\r\n                                    value={this.state.usuario.password}\r\n                                    fullWidth label=\"Ingrese su contraseña\" />\r\n                            </Grid>\r\n\r\n                        </Grid>\r\n                        <Grid container justify=\"center\">\r\n                            <Grid item xs={12} md={6}>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    onClick={this.RegistrarUsuario}\r\n                                    variant=\"outlined\"\r\n                                    fullWidth size=\"large\"\r\n                                    color=\"primary\"\r\n                                    style={style.submit}>\r\n\r\n                                    Registrar\r\n\r\n                                </Button>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </form>\r\n\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(consumerFirebase)(RegistrarUsuario);","import React, { Component } from 'react';\r\nimport { Container, Avatar, Typography, TextField, Button } from '@material-ui/core';\r\nimport LockOutlineIcon from \"@material-ui/icons/LockOpenOutlined\";\r\nimport { compose } from 'recompose';\r\nimport { consumerFirebase } from '../../Server';\r\nimport { iniciarSesion } from '../../Sesion/actions/sesionAction';\r\nimport { StateContext } from '../../Sesion/Store';\r\nimport { openMensajePantalla } from '../../Sesion/actions/snackbarAction';\r\n\r\n\r\nconst style = {\r\n    paper : {\r\n        marginTop: 9,\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\"\r\n    },\r\n    avatar : {      \r\n        margin: 8,\r\n        backgroundColor : \"#e53935\"\r\n    },\r\n    form : {\r\n        width: \"100%\",\r\n        marginTop: 8\r\n    }\r\n}\r\n\r\nclass Login extends Component {\r\n    static contextType = StateContext;\r\n    state = {\r\n        firebase : null,\r\n        usuario : {\r\n            email : '',\r\n            password : ''\r\n        }\r\n    }\r\n    \r\n    static getDerivedStateFromProps(nextProps, prevState){\r\n        if(nextProps.firebase === prevState.firebase){\r\n            return null;\r\n        }\r\n        return {\r\n            firebase : nextProps.firebase\r\n        }\r\n    }\r\n//onChange es un evento, empleado para tomar en cuenta cuando cambia el estado de un objeto\r\n    onChange = e =>{\r\n        let usuario = Object.assign({},this.state.usuario);\r\n        usuario[e.target.name] = e.target.value;\r\n        this.setState({\r\n            usuario : usuario\r\n        })\r\n    }\r\n\r\n    login = async e =>{\r\n        e.preventDefault();\r\n        const [{sesion}, dispatch] = this.context;\r\n        const {firebase, usuario} = this.state;\r\n        const {email, password} = usuario;        \r\n        let  callback = await iniciarSesion(dispatch, firebase, email, password);      \r\n        if(callback.status){\r\n            this.props.history.push(\"/\");\r\n        }else{\r\n            openMensajePantalla(dispatch, {\r\n                open : true,\r\n                mensaje: callback.mensaje.message\r\n                \r\n            });\r\n            \r\n        }\r\n    }\r\n    \r\n    render() {\r\n        \r\n        return (\r\n            <Container maxWidth = \"xs\">\r\n                <div style = {style.paper}>\r\n                    <Avatar style = {style.avatar}>\r\n                        <LockOutlineIcon />\r\n                    </Avatar>\r\n                    <Typography component = \"h1\" variant = \"h5\">\r\n                        Inicia sesión\r\n                    </Typography>\r\n                    <form style = {style.form}>\r\n                        <TextField\r\n                        variant = \"outlined\"  \r\n                        fullWidth margin=\"dense\"                        \r\n                        label = \"Correo electrónico\" \r\n                        name = \"email\"\r\n                        onChange = {this.onChange}\r\n                        value = {this.state.usuario.email} \r\n                        />\r\n\r\n                        <TextField\r\n                        variant = \"outlined\"  \r\n                        fullWidth margin=\"dense\"                        \r\n                        type = \"password\"\r\n                        label = \"Contraseña\" \r\n                        name = \"password\"\r\n                        onChange = {this.onChange} \r\n                        value = {this.state.usuario.password}\r\n                        />\r\n\r\n                        <Button type= \"submit\" \r\n                        fullWidth \r\n                        variant =\"contained\" \r\n                        color = \"primary\"\r\n                        onClick={this.login}>\r\n                        \r\n                            EMPEZAR\r\n                            \r\n                        </Button>\r\n                        \r\n                    </form>\r\n\r\n                </div>\r\n            </Container>\r\n        );\r\n    }\r\n}\r\n\r\nexport default compose(consumerFirebase)(Login);","import { Route, Redirect } from 'react-router-dom';\r\nimport React from 'react';\r\nimport { useStateValue } from '../../Sesion/Store';\r\n\r\n\r\nfunction RutaAutenticada({ component: Component, autenticadoFirebase, ...rest }) {\r\n\r\n    const [{ autenticado }, dispatch] = useStateValue();\r\n\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) => (autenticado === true || autenticadoFirebase !== null)\r\n                ? <Component {...props} {...rest} />\r\n                : <Redirect to=\"/auth/login\" />\r\n            }\r\n        />\r\n    )\r\n}\r\n\r\nexport default RutaAutenticada;","import React from 'react';\r\nimport { useState, useEffect } from 'react';\r\nimport { useStateValue } from \"../../Sesion/Store\";\r\nimport { Avatar, Button, Container, Grid, Breadcrumbs, TextField, Typography, Paper } from \"@material-ui/core\";\r\nimport { consumerFirebase } from '../../Server';\r\nimport { openMensajePantalla } from '../../Sesion/actions/snackbarAction';\r\nimport { v4 as uuidv4 } from 'uuid';\r\nimport { DropzoneDialog } from 'material-ui-dropzone';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate'\r\n\r\n\r\nconst style = {\r\n  paper: {\r\n    marginTop: 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"5px\",\r\n    borderRadius: \"10px\",\r\n\r\n  },\r\n  breadcrumbs: {\r\n    backgroundColor: \"#ffffff\",\r\n    display: \"flex\",\r\n    padding: \"20px\",\r\n    borderRadius: \"12px\",\r\n\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: 20\r\n  },\r\n  avatar: {\r\n    margin: 10,\r\n    width: 100,\r\n    height: 100\r\n  },\r\n  submit: {\r\n    marginTop: 15,\r\n    marginBottom: 20\r\n  }\r\n};\r\n\r\n\r\nconst PerfilUsuario = props => {\r\n  const [{ sesion }, dispatch] = useStateValue();\r\n  const firebase = props.firebase;\r\n  let [estado, cambiarEstado] = useState({\r\n    nombre: \"\",\r\n    apellido: \"\",\r\n    email: \"\",\r\n    telefono: \"\",\r\n    id: \"\"\r\n  });\r\n\r\n  const cambiarDato = e => {\r\n    const { name, value } = e.target;\r\n    cambiarEstado(prev => ({\r\n      ...prev, [name]: value\r\n    }))\r\n  }\r\n  const guardarCambios = e => {\r\n    e.preventDefault();\r\n    firebase.db\r\n      .collection(\"Users\")\r\n      .doc(firebase.auth.currentUser.uid)\r\n      .set(estado, { merge: true })\r\n      .then(success => {\r\n        dispatch({\r\n          type: 'INICIAR_SESION',\r\n          sesion: estado,\r\n          autenticado: true\r\n        })\r\n        openMensajePantalla(dispatch, {\r\n          open: true,\r\n          mensaje: \"Se guardaron los cambios\"\r\n        })\r\n      })\r\n      .catch(error => {\r\n        openMensajePantalla(dispatch, {\r\n          open: true,\r\n          mensaje: \"Se ha producido un error\" + error\r\n        })\r\n      })\r\n  }\r\n  const validarEstadoFormulario = sesion => {\r\n    if (sesion) {\r\n      cambiarEstado(sesion.usuario);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (estado.id === \"\") {\r\n      validarEstadoFormulario(sesion);\r\n    }\r\n  })\r\n  const subirFoto = fotos => {\r\n    //1 Subir imágen\r\n    const foto = fotos[0];\r\n    //generar clave unica para la foto\r\n    const claveUnicaFoto = uuidv4();\r\n    // get foto name\r\n    const nombreFoto = foto.name;\r\n    //get img extension\r\n    const extensionFoto = nombreFoto.split('.').pop();\r\n    //rename foto \r\n    const alias = (nombreFoto.split('.')[0] + '_' + claveUnicaFoto + '.' + extensionFoto).replace(/\\s/g, '_').toLocaleLowerCase();\r\n    firebase.guardarDocumento(alias, foto).then(metadata => {\r\n      firebase.devolverDocumento(alias).then(urlFoto => {\r\n        estado.foto = urlFoto;\r\n        firebase.db\r\n          .collection('Users')\r\n          .doc(firebase.auth.currentUser.uid)\r\n          .set({ foto: urlFoto }, { merge: true })\r\n          .then(userDB => {\r\n            dispatch({\r\n              type: 'INICIAR_SESION',\r\n              sesion: estado,\r\n              autenticado: true\r\n            })\r\n          })\r\n      })\r\n    })\r\n  }\r\n\r\n  const [open, setOpen] = useState(false);\r\n\r\n\r\n\r\n  return (sesion ? (\r\n    <Container component=\"main\" maxWidth=\"xs\" justify=\"center\" >\r\n      <div style={style.paper}>\r\n        <Avatar style={style.avatar} src={estado.foto} onClick={() => setOpen(true)} />\r\n        <Typography component=\"h1\" variant=\"h5\">Perfil de la cuenta</Typography>\r\n        <Paper style={style.paper}>\r\n          <Breadcrumbs aria-label=\"breadcrumb\" style={style.breadcrumbs}>\r\n            <form style={style.form}>\r\n              <Grid container width=\"xs\" spacing={1}>\r\n                <Grid item xs={12} md={6}>\r\n                  <TextField\r\n                    name=\"nombre\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Nombre\"\r\n                    value={estado.nombre}\r\n                    onChange={cambiarDato}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={12} md={6}>\r\n                  <TextField\r\n                    name=\"apellido\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Apellido\"\r\n                    value={estado.apellido}\r\n                    onChange={cambiarDato}\r\n\r\n                  />\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={12}>\r\n                  <TextField\r\n                    name=\"email\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Correo Electrónico\"\r\n                    value={estado.email}\r\n                    onChange={cambiarDato}\r\n                  />\r\n\r\n                </Grid>\r\n\r\n                <Grid item xs={12} md={12}>\r\n                  <TextField\r\n                    name=\"telefono\"\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    label=\"Teléfono\"\r\n                    value={estado.telefono}\r\n                    onChange={cambiarDato}\r\n                  />\r\n                </Grid>\r\n\r\n              </Grid>\r\n              <Grid container justify=\"center\">\r\n                <Grid item xs={12} md={12}>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    variant=\"contained\"\r\n                    size=\"large\"\r\n                    color=\"primary\"\r\n                    style={style.submit}\r\n                    onClick={guardarCambios}>\r\n                    Guardar\r\n                            </Button>\r\n                </Grid>\r\n              </Grid>\r\n\r\n            </form>\r\n          </Breadcrumbs>\r\n        </Paper>\r\n      </div>\r\n      <DropzoneDialog\r\n        dialogTitle=''\r\n        filesLimit={1}\r\n        dropzoneText='Selecciona o arrastra tu foto de perfil'\r\n        previewText=' '\r\n        Icon={AddPhotoAlternateIcon}\r\n        acceptedFiles={['image/*']}\r\n        cancelButtonText={\"Cancelar\"}\r\n        submitButtonText={\"Guardar\"}\r\n        maxFileSize={5000000}\r\n        open={open}\r\n        onClose={() => setOpen(false)}\r\n        onSave={subirFoto}\r\n        showPreviews={false}\r\n        showPreviewsInDropzone={true}\r\n        showFileNamesInPreview={false}\r\n\r\n      />\r\n\r\n\r\n    </Container>\r\n\r\n\r\n  )\r\n    : null);\r\n};\r\n\r\nexport default consumerFirebase(PerfilUsuario);\r\n","export const crearKeyword = text => {\r\n    const arregloKeywords = [];\r\n    const arregloPalabras = text.match(/(\"[^\"]+\"|[^\"\\s]+)/g);\r\n\r\n    arregloPalabras.forEach(palabra => {\r\n        let palabraResumida = \"\";\r\n        palabra.split(\"\").forEach(letra => {\r\n            palabraResumida += letra;\r\n            arregloKeywords.push(palabraResumida.toLowerCase());\r\n        });\r\n    });\r\n\r\n    let letraResumida = \"\";\r\n    text.split(\"\").forEach(letra => {\r\n        letraResumida += letra;\r\n        arregloKeywords.push(letraResumida);\r\n    });\r\n\r\n    return arregloKeywords;\r\n};\r\n","import { Breadcrumbs, Button, Container, Grid, Link, Paper, TextField, Typography } from '@material-ui/core';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport React, { Component } from 'react';\r\nimport { consumerFirebase } from '../../Server';\r\nimport { crearKeyword } from '../../Sesion/actions/Keywords';\r\nimport { openMensajePantalla } from '../../Sesion/actions/snackbarAction';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\n\r\n\r\n\r\nconst style = {\r\n\tcontainer: {\r\n\t\tpaddingTop: '8px'\r\n\t},\r\n\tpaper: {\r\n\t\tmarginTop: 8,\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\tpadding: '20px',\r\n\t\talignItems: \"center\",\r\n\t\tbackgroundColor: 'ffffff'\r\n\t},\r\n\thomeIcon: {\r\n\t\twidth: 20,\r\n\t\theight: 20,\r\n\t\tmarginRight: '4px'\r\n\t},\r\n\tlink: {\r\n\t\tdisplay: 'flex'\r\n\t},\r\n\tsubmit: {\r\n\t\tmarginTop: 15,\r\n\t\tmarginBottom: 10\r\n\t},\r\n\tdropzoneStyle: {\r\n\t\tmarginTop: 20,\r\n\t\tmarginBottom: 10,\r\n\t},\r\n}\r\n\r\n\r\nclass NuevoInmueble extends Component {\r\n\tstate = {\r\n\t\tinmueble: {\r\n\t\t\tpais: '',\r\n\t\t\tciudad: '',\r\n\t\t\tdireccion: '',\r\n\t\t\ttipoInmueble: '',\r\n\t\t\tdescripcionInmueble: '',\r\n\t\t\tfotos: []\r\n\t\t},\r\n\t\tarchivos: []\r\n\t}\r\n\r\n\tentraDatoEnEstado = e => {\r\n\t\tlet inmueble_ = Object.assign({}, this.state.inmueble)\r\n\t\tinmueble_[e.target.name] = e.target.value\r\n\t\tthis.setState({\r\n\t\t\tinmueble: inmueble_\r\n\t\t})\r\n\t};\r\n\r\n\t//putavida\r\n\r\n\tguardarInmueble = () => {\r\n\r\n\t\tconst { archivos, inmueble } = this.state;\r\n\t\tObject.keys(archivos).forEach(function (key) {\r\n\t\t\tlet valorDinamico = Math.floor(new Date().getTime() / 1000);\r\n\t\t\tlet nombre = archivos[key].name;\r\n\t\t\tlet extension = nombre.split(\".\").pop();\r\n\t\t\tarchivos[key].alias = (nombre.split(\".\")[0] + \"_\" + valorDinamico + \".\" + extension).replace(/\\s/g, \"_\").toLocaleLowerCase();\r\n\t\t})\r\n\r\n\t\tconst textoBusqueda = inmueble.direccion + ' ' + inmueble.ciudad + ' ' + inmueble.pais + ' ' + inmueble.tipoInmueble;\r\n\t\tlet keywords = crearKeyword(textoBusqueda);\r\n\r\n\t\tthis.props.firebase.guardarFotosInmueble(archivos).then(arregloUrls => {\r\n\t\t\tinmueble.fotos = arregloUrls;\r\n\t\t\tinmueble.keywords = keywords;\r\n\r\n\t\t\tthis.props.firebase.db\r\n\t\t\t\t.collection('Inmuebles')\r\n\t\t\t\t.add(inmueble)\r\n\t\t\t\t.then(success => {\r\n\t\t\t\t\tthis.props.history.push(\"/\");\r\n\t\t\t\t})\r\n\t\t\t\t.catch(error => {\r\n\t\t\t\t\topenMensajePantalla({\r\n\t\t\t\t\t\topen: true,\r\n\t\t\t\t\t\tmensaje: error\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t});\r\n\t};\r\n\r\n\thandleChange(archivos) {\r\n\t\tthis.setState({\r\n\t\t\tarchivos: archivos\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<Container style={style.container}>\r\n\t\t\t\t<Paper style={style.paper}>\r\n\t\t\t\t\t<Grid container spacing={3}>\r\n\t\t\t\t\t\t<Grid item xs={12} md={8}>\r\n\t\t\t\t\t\t\t<Breadcrumbs aria-label=\"breadcrumb\">\r\n\t\t\t\t\t\t\t\t<Link color=\"inherit\" style={style.link} href=\"/\">\r\n\t\t\t\t\t\t\t\t\t<HomeIcon style={style.homeIcon} />Inicio\r\n                </Link>\r\n\t\t\t\t\t\t\t\t<Typography color=\"textPrimary\">Nuevo Cultivo</Typography>\r\n\t\t\t\t\t\t\t</Breadcrumbs>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t<Grid item xs={6} md={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tname=\"pais\"\r\n\t\t\t\t\t\t\t\tlabel=\"Estado\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tonChange={this.entraDatoEnEstado}\r\n\t\t\t\t\t\t\t\tvalue={this.state.inmueble.pais}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={6} md={6}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tname=\"ciudad\"\r\n\t\t\t\t\t\t\t\tlabel=\"Región\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tonChange={this.entraDatoEnEstado}\r\n\t\t\t\t\t\t\t\tvalue={this.state.inmueble.ciudad}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tname=\"direccion\"\r\n\t\t\t\t\t\t\t\tlabel=\"Dirección del cultivo\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tonChange={this.entraDatoEnEstado}\r\n\t\t\t\t\t\t\t\tvalue={this.state.inmueble.direccion}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tname=\"tipoInmueble\"\r\n\t\t\t\t\t\t\t\tlabel=\"Tipo de cultivo\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\tonChange={this.entraDatoEnEstado}\r\n\t\t\t\t\t\t\t\tvalue={this.state.inmueble.tipoInmueble}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t<Grid item xs={12} md={12}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\tname=\"descripcionInmueble\"\r\n\t\t\t\t\t\t\t\tlabel=\"Descripción de la siembra\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\tonChange={this.entraDatoEnEstado}\r\n\t\t\t\t\t\t\t\tvalue={this.state.inmueble.descripcion}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid container fullWidth style={style.dropzoneStyle}>\r\n\t\t\t\t\t\t<DropzoneArea\r\n\r\n\t\t\t\t\t\t\tacceptedFiles={['image/*']}\r\n\t\t\t\t\t\t\tdropzoneText={\"Selecciona o arrastra las imágenes\"}\r\n\t\t\t\t\t\t\tfilesLimit={6}\r\n\t\t\t\t\t\t\tonChange={this.handleChange.bind(this)}\r\n\t\t\t\t\t\t\tshowPreviews={true}\r\n\t\t\t\t\t\t\tshowPreviewsInDropzone={false}\r\n\t\t\t\t\t\t\tshowFileNamesInPreview={false}\r\n\t\t\t\t\t\t\tIcon={AddPhotoAlternateIcon}\r\n\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t<Grid container justify=\"center\">\r\n\t\t\t\t\t\t<Grid item xs={12} md={6}>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\tsize=\"large\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tstyle={style.submit}\r\n\t\t\t\t\t\t\t\tonClick={this.guardarInmueble}>\r\n\t\t\t\t\t\t\t\tGUARDAR\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Paper>\r\n\t\t\t</Container>\r\n\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default consumerFirebase(NuevoInmueble);","import React, { Component } from 'react';\r\nimport { Breadcrumbs, Button, Card, CardActions, CardContent, CardMedia, Container, Grid, InputAdornment, Link, Paper, TextField, Typography } from '@material-ui/core';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport logo from '../../logo.svg';\r\nimport { consumerFirebase } from '../../Server';\r\nimport SearchRoundedIcon from '@material-ui/icons/SearchRounded';\r\nconst style = {\r\n  cardGrid: {\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  paper: {\r\n    backgroundColor: \"#ffffff\",\r\n    padding: \"20px\",\r\n    minHeight: 550\r\n  },\r\n  link: {\r\n    display: \"flex\"\r\n  },\r\n  gridTextfield: {\r\n    marginTop: \"20px\"\r\n  },\r\n  card: {\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    \r\n  },\r\n  cardMedia: {\r\n    paddingTop: \"56.25%\"\r\n  },\r\n  cardContent: {\r\n    flexGrow: 1\r\n  }\r\n}\r\n\r\nclass ListaInmuebles extends Component {\r\n  state = {\r\n    inmuebles: [],\r\n    textoBusqueda: \"\"\r\n  }\r\n\r\n  cambiarBusquedaTexto = e => {\r\n    const self = this;\r\n    self.setState({\r\n      [e.target.name]: e.target.value\r\n    })\r\n\r\n    if (self.state.typingTimeout) {\r\n      clearTimeout(self.state.typingTimeout);\r\n    }\r\n    self.setState({\r\n      name: e.target.value,\r\n      typing: false,\r\n      typingTimeout: setTimeout(goTime => {\r\n\r\n\r\n        let objectQuery = this.props.firebase.db\r\n          .collection(\"Inmuebles\")\r\n          .orderBy(\"direccion\")\r\n          .where(\"keywords\", \"array-contains\", self.state.textoBusqueda.toLowerCase());\r\n\r\n        if (self.state.textoBusqueda.trim() === \"\") {\r\n          objectQuery = this.props.firebase.db\r\n            .collection(\"Inmuebles\")\r\n            .orderBy(\"direccion\")\r\n        }\r\n\r\n        objectQuery.get().then(snapshot => {\r\n          const arrayInmueble = snapshot.docs.map(doc => {\r\n            let data = doc.data();\r\n            let id = doc.id;\r\n            return { id, ...data };\r\n          })\r\n          this.setState({\r\n            inmuebles: arrayInmueble\r\n          })\r\n        })\r\n      }, 500)\r\n    })\r\n  }\r\n  async componentDidMount() {\r\n    let objectQuery = this.props.firebase.db.collection('Inmuebles').orderBy('direccion');\r\n\r\n    const snapshot = await objectQuery.get();\r\n\r\n    const arrayInmueble = snapshot.docs.map(doc => {\r\n      let data = doc.data();\r\n      let id = doc.id;\r\n      return { id, ...data };\r\n    })\r\n\r\n    this.setState({\r\n      inmuebles: arrayInmueble\r\n    })\r\n  }\r\n\r\n  eliminarInmueble = id => {\r\n    this.props.firebase.db\r\n      .collection(\"Inmuebles\")\r\n      .doc(id)\r\n      .delete()\r\n      .then(success => {\r\n        this.eliminarInmuebleDeListaEstado(id);\r\n      })\r\n  }\r\n\r\n  eliminarInmuebleDeListaEstado = id => {\r\n    const inmuebleListaNueva = this.state.inmuebles.filter(\r\n      inmueble => inmueble.id !== id\r\n    )\r\n    this.setState({\r\n      inmuebles: inmuebleListaNueva\r\n    })\r\n  }\r\n  editarInmueble = id => {\r\n    this.props.history.push(\"auth/id\" + id)\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Container style={style.cardGrid}>\r\n        <Paper style={style.paper}>\r\n          <Grid item xs={12} sm={12}>\r\n            <Breadcrumbs aria-label=\"breadcrumbs\">\r\n              <Link color=\"inherit\" style={style.link} href=\"/\">\r\n                <HomeIcon /> Inicio\r\n            </Link>\r\n              <Typography color=\"textPrimary\">Mis Cultivos</Typography>\r\n            </Breadcrumbs>\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} style={style.gridTextfield}>\r\n            <TextField\r\n              fullWidth\r\n              InputLabelProps={{\r\n                shrink: true\r\n              }}\r\n              name=\"textoBusqueda\"\r\n              variant=\"outlined\"\r\n              label=\"Ingrese el cultivo a buscar\"\r\n              placeholder=\"Puedes buscar por estado, dirección o cultivo\"\r\n              onChange={this.cambiarBusquedaTexto}\r\n              value={this.state.textoBusqueda}\r\n              inputProps={{\r\n                startAdorment:(\r\n                  <InputAdornment position ='start'>\r\n                    <SearchRoundedIcon/>\r\n                  </InputAdornment>\r\n                ),\r\n              }}\r\n            />\r\n          </Grid>\r\n\r\n          <Grid item xs={12} sm={12} style={style.gridTextfield} >\r\n            <Grid container spacing={4}>\r\n              {this.state.inmuebles.map(card => (\r\n                <Grid item key={card.id} xs={12} sm={4}>\r\n                  <Card style={style.card} elevation={3}>\r\n                    <CardMedia style={style.cardMedia}\r\n                      image={\r\n                        card.fotos\r\n                          ? card.fotos[0]\r\n                            ? card.fotos[0]\r\n                            : logo\r\n                          : logo}\r\n                      title=\"Mi Cultivo\" />\r\n\r\n                    <CardContent style={style.cardContent}>\r\n                      <Typography gutterBottom variant=\"h5\" component=\"h2\">\r\n                        {card.ciudad + \", \" + card.pais}\r\n                      </Typography>\r\n                    </CardContent>\r\n\r\n                    <CardActions>\r\n                      <Button\r\n                        onClick={() => this.editarInmueble(card.id)}\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                      >\r\n\r\n                        Editar\r\n                        </Button>\r\n\r\n                      <Button\r\n                        size=\"small\"\r\n                        color=\"primary\"\r\n                        //onClick={handleOpen}\r\n                        onClick={() => this.eliminarInmueble(card.id)}\r\n                      >\r\n\r\n                        Eliminar\r\n                        </Button>\r\n                    </CardActions>\r\n                  </Card>\r\n                </Grid>\r\n              ))}\r\n\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default consumerFirebase(ListaInmuebles);\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n/*import React, { Component, useState, useEffect } from 'react';\r\nimport { consumerFirebase } from '../../Server';\r\nimport { Breadcrumbs, Container, Grid, Link, Paper, TextField, Typography } from '@material-ui/core';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\n\r\nconst style = {\r\n  cardGrid: {\r\n    paddingTop: 8,\r\n    paddingBottom: 8\r\n  },\r\n  paper: {\r\n    backgroundColor: \"#ffffff\",\r\n    padding: \"20px\",\r\n    minHeight: 550\r\n  },\r\n  link: {\r\n    display: \"flex\"\r\n  },\r\n  gridTextfield: {\r\n    marginTop: \"20px\"\r\n  }\r\n}\r\nconst ListaInmuebles = (props) => {\r\n\r\n  const [inmuebles, setinmuebles] = useState([]);\r\n  const [valores, setvalores] = useState({\r\n    textoBusqueda: ''\r\n  });\r\n\r\n\r\n  return (\r\n    <Container style={style.cardGrid}>\r\n      <Paper style={style.paper}>\r\n        <Grid item xs={12} sm={12}>\r\n          <Breadcrumbs aria-label=\"breadcrumbs\">\r\n            <Link color=\"inherit\" style={style.link} href=\"/\">\r\n              <HomeIcon /> Inicio\r\n            </Link>\r\n            <Typography color=\"textPrimary\">Mis Inmuebles</Typography>\r\n          </Breadcrumbs>\r\n        </Grid>\r\n        <Grid item xs={12} sm={12} style={style.gridTextfield}>\r\n          <TextField\r\n            fullWidth\r\n            InputLabelProps={{\r\n              shrink: true\r\n            }}\r\n            name=\"textoBusqueda\"\r\n            variant=\"outlined\"\r\n            label=\"Ingrese el inmueble a buscar\"\r\n            onChange={valores.textoBusqueda}>\r\n          </TextField>\r\n        </Grid>\r\n      </Paper>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default consumerFirebase(ListaInmuebles);*/","import { Breadcrumbs, Button, Container, Grid, Link, Paper, TextField, Typography } from '@material-ui/core';\r\nimport React, { Component } from 'react';\r\nimport { consumerFirebase } from '../../Server';\r\nimport HomeIcon from '@material-ui/icons/Home'\r\nimport { DropzoneArea } from 'material-ui-dropzone';\r\nimport AddPhotoAlternateIcon from '@material-ui/icons/AddPhotoAlternate';\r\n\r\nconst style = {\r\n  container: {\r\n    paddingTop: \"8px\"\r\n  },\r\n  paper: {\r\n    marginTop: 8,\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"20px\",\r\n    backgroundColor: \"#ffffff\"\r\n  },\r\n  link: {\r\n    padding: \"20px\",\r\n    backgroundColor: \"#ffffff\"\r\n  },\r\n  homeIcon: {\r\n    width: 20,\r\n    height: 20,\r\n    marginRight: \"4px\"\r\n  }\r\n}\r\nclass EditarInmueble extends Component {\r\n\r\n  state = {\r\n    inmueble: {\r\n      pais: '',\r\n      ciudad: '',\r\n      direccion: '',\r\n      tipoInmueble: '',\r\n      descripcionInmueble: '',\r\n      fotos: []\r\n    },\r\n\r\n  }\r\n\r\n  //Asignar estado de los componentes\r\n  cambiarDato = e => {\r\n    let inmueble = Object.assign({}, this.state.inmueble)\r\n    inmueble[e.target.name] = e.target.value\r\n    this.setState({ inmueble });\r\n  }\r\n\r\n /* async componentDidMount() {\r\n    const {id} = this.props.match.params;\r\n    \r\n    const inmuebleCollection = this.props.firebase.db.collection(\"Inmuebles\");\r\n    const inmuebleDB = await inmuebleCollection.doc(id).get();\r\n\r\n    this.setState({\r\n        inmueble : inmuebleDB.data()\r\n    })\r\n\r\n}  */\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Container style={style.container}>\r\n        <Paper style={style.paper}>\r\n          <Grid container spacing={3}>\r\n            <Grid item xs={12} md={8}>\r\n              <Breadcrumbs aria-label=\"breadcrumb\">\r\n                <Link color=\"inherit\" style={style.link} href=\"/\">\r\n                  <HomeIcon style={style.homeIcon} />Inicio\r\n              </Link>\r\n                <Typography color=\"textPrimary\">Editar Cultivo</Typography>\r\n              </Breadcrumbs>\r\n            </Grid>\r\n            <Grid item xs={6} md={6}>\r\n              <TextField\r\n                name=\"pais\"\r\n                label=\"Estado\"\r\n                fullWidth\r\n                onChange={this.cambiarDato}\r\n                value={this.state.inmueble.pais}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={6} md={6}>\r\n              <TextField\r\n                name=\"ciudad\"\r\n                label=\"Región\"\r\n                fullWidth\r\n                onChange={this.cambiarDato}\r\n                value={this.state.inmueble.ciudad}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={12}>\r\n              <TextField\r\n                name=\"direccion\"\r\n                label=\"Dirección del cultivo\"\r\n                fullWidth\r\n                onChange={this.cambiarDato}\r\n                value={this.state.inmueble.direccion}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={12}>\r\n              <TextField\r\n                name=\"tipoInmueble\"\r\n                label=\"Tipo de cultivo\"\r\n                fullWidth\r\n                multiline\r\n                onChange={this.cambiarDato}\r\n                value={this.state.inmueble.tipoInmueble}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} md={12}>\r\n              <TextField\r\n                name=\"descripcionInmueble\"\r\n                label=\"Descripción de la siembra\"\r\n                fullWidth\r\n                multiline\r\n                onChange={this.cambiarDato}\r\n                value={this.state.inmueble.descripcionInmueble}\r\n              />\r\n            </Grid>\r\n          </Grid>\r\n\r\n          <Grid container fullWidth style={style.dropzoneStyle}>\r\n            <DropzoneArea\r\n\r\n              acceptedFiles={['image/*']}\r\n              dropzoneText={\"Selecciona o arrastra las imágenes\"}\r\n              filesLimit={6}\r\n              //     onChange={this.handleChange.bind(this)}\r\n              showPreviews={true}\r\n              showPreviewsInDropzone={false}\r\n              showFileNamesInPreview={false}\r\n              Icon={AddPhotoAlternateIcon}\r\n\r\n            />\r\n          </Grid>\r\n\r\n          <Grid container justify=\"center\">\r\n            <Grid item xs={12} md={6}>\r\n              <Button\r\n                type=\"button\"\r\n                fullWidth\r\n                variant=\"contained\"\r\n                size=\"large\"\r\n                color=\"primary\"\r\n              //style={style.submit}\r\n              //onClick={this.guardarInmueble}\r\n              >\r\n                GUARDAR\r\n            </Button>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </Container>\r\n    );\r\n  }\r\n}\r\n\r\nexport default consumerFirebase(EditarInmueble);","import React, { Component, useEffect } from \"react\";\nimport Grid from '@material-ui/core/Grid';\nimport \"./App.css\";\nimport AppNavBar from \"./Components/Layout/AppNavBar\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { MuiThemeProvider, Snackbar } from '@material-ui/core';\nimport theme from \"./Theme/theme\";\nimport RegistrarUsuario from './Components/Seguridad/RegistrarUsuario';\nimport Login from \"./Components/Seguridad/Login\";\nimport { FirebaseContext } from './Server';\nimport { useStateValue } from './Sesion/Store';\nimport RutaAutenticada from \"./Components/Seguridad/RutaAutenticada\";\nimport PerfilUsuario from \"./Components/Seguridad/PerfilUsuario\";\nimport NuevoInmueble from \"./Components/vistas/Nuevoinmueble\";\nimport ListaInmuebles from \"./Components/vistas/ListaInmuebles\";\nimport EditarInmueble from \"./Components/vistas/EditarInmueble\";\n\n\n\n\n\n\nfunction App(props) {\n  let firebase = React.useContext(FirebaseContext);\n  const [autenticacionIniciada, setupFirebaseInicial] = React.useState(false);\n\n  const [{ openSnackbar }, dispatch] = useStateValue();\n\n  useEffect(() => {\n    firebase.estaIniciado().then(val => {\n      setupFirebaseInicial(val);\n    })\n  });\n  return autenticacionIniciada !== false ? (\n    <React.Fragment>\n      <Snackbar\n        anchorOrigin={{ vertical: \"bottom\", horizontal: \"center\" }}\n        open={openSnackbar ? openSnackbar.open : false}\n        autoHideDuration={3000}\n        ContentProps={{\n          \"aria-describedby\": \"message-id\"\n        }}\n        message={\n          <span id=\"message-id\">\n            {openSnackbar ? openSnackbar.mensaje : \"\"}\n          </span>\n        }\n        onClose={() =>\n          dispatch({\n            type: \"OPEN_SNACKBAR\",\n            openMensaje: {\n              open: false,\n              mensaje: \"\"\n            }\n          })\n        }\n      >\n      </Snackbar>\n      <Router>\n        <MuiThemeProvider theme={theme}>\n          <AppNavBar />\n\n          <Grid container>\n            <Switch>\n              <RutaAutenticada\n                exact path=\"/\"\n                autenticadoFirebase={firebase.auth.currentUser}\n                component={ListaInmuebles} />\n              <RutaAutenticada\n                exact path=\"/auth/uprofile\"\n                autenticadoFirebase={firebase.auth.currentUser}\n                component={PerfilUsuario} />\n              <RutaAutenticada\n                exact path=\"/auth/nuevoinmueble\"\n                autenticadoFirebase={firebase.auth.currentUser}\n                component={NuevoInmueble} />\n                <RutaAutenticada\n                exact path=\"/auth/:id\"\n                autenticadoFirebase={firebase.auth.currentUser}\n                component={EditarInmueble} />\n\n              <Route path=\"/auth/registrarUsuario\" exact component={RegistrarUsuario}></Route>\n              <Route path=\"/auth/login\" exact component={Login}></Route>\n              \n\n            </Switch>\n          </Grid>\n\n        </MuiThemeProvider>\n      </Router>\n    </React.Fragment>\n  )\n    : null\n    ;\n\n\n}\n\n\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","export const initialState = {};\r\n\r\n//por defecto el estado inicial del Context provider será vacío, este context será un Json vacío\r\n//Que se irá llenando en la medida que los reducers irán cambiando","export const initialState = {\r\n    usuario: {\r\n        nombre: '',\r\n        apellido: '',\r\n        email: '',\r\n        telefono: '',\r\n        id: '',\r\n        foto: ''\r\n    },\r\n    autenticado: false\r\n}\r\n//reducer para manejar los estados de sesión del usuario\r\nconst sesionReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case \"INICIAR_SESION\":\r\n            return {\r\n                ...state,\r\n                usuario: action.sesion,\r\n                autenticado: action.autenticado\r\n            };\r\n        case \"CAMBIAR_SESION\":\r\n            return {\r\n                ...state,\r\n                usuario: action.nuevoUsuario,\r\n                autenticado: action.autenticado\r\n            };\r\n        case \"SALIR_SESION\":\r\n            return {\r\n                ...state,\r\n                usuario: action.nuevoUsuario,\r\n                autenticado: action.autenticado\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default sesionReducer;\r\n\r\n","//el componente de material  UI se llama Snackbar, pero no es necesario colocar ese nombre al archivo\r\n\r\nconst initialState = {\r\n    open : false,\r\n    mensaje: \"\"\r\n}\r\n\r\nconst openSnackbarReducer = (state = initialState, action) =>{\r\n    switch(action.type){\r\n        case \"OPEN_SNACKBAR\":\r\n        return {\r\n            ...state,\r\n            open : action.openMensaje.open,\r\n            mensaje : action.openMensaje.mensaje\r\n        };\r\n        default :\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default openSnackbarReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport Firebase, { FirebaseContext } from './Server';\nimport { initialState } from './Sesion/initialState';\nimport { StateProvider } from './Sesion/Store';  //State provider enlaza el reducer y el initialState\n//import sesionReducer from './Sesion/reducers/sesionReducer';\nimport { mainReducer } from './Sesion/reducers/';\n\n\n\nReactDOM.render(\n  <FirebaseContext.Provider value={new Firebase()}>\n    <StateProvider initialState={initialState} reducer={mainReducer}>\n      <App />\n    </StateProvider>\n  </FirebaseContext.Provider>\n  , document.getElementById('root'));\n\n\nserviceWorker.unregister();\n","import sesionReducer from './sesionReducer';\r\nimport openSnackbarReducer from './openSnackbarReducer';\r\n\r\nexport const mainReducer = ({sesion, openSnackbar}, action) => {\r\n    return {\r\n        sesion : sesionReducer (sesion, action),\r\n        openSnackbar : openSnackbarReducer (openSnackbar, action)\r\n    }\r\n}","module.exports = __webpack_public_path__ + \"static/media/logo.5d5d9eef.svg\";"],"sourceRoot":""}